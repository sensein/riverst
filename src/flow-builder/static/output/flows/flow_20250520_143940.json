{
  "name": "horoscope",
  "description": "This flow asks for your birthdates and such and gives you your horoscope",
  "state_config": {
    "stages": {
      "Greetings": {
        "checklist": {
          "asked_travels": false,
          "unique_energy": false,
          "ask_birthday": false,
          "gave_horoscope": false
        },
        "checklist_incomplete_message": "Please complete the following Greetings items: {}",
        "checklist_complete_message": "Great job! Moving on to the next stage.",
        "next_stage": "end"
      }
    },
    "info": {
      "birthday": ""
    },
    "task_variables": {},
    "session_variables_file": "session_variables/flow_20250520_143940.json"
  },
  "flow_config": {
    "initial_node": "Greetings",
    "nodes": {
      "Greetings": {
        "task_messages": [
          {
            "role": "system",
            "content": "Welcome the traveller to your mystic abode, veiled in shadows and the deepest secrets of the Atman. Ask them how their travels were, and tell them that you can sense a unique energy about them, but in very fanciful and creative spiritual language. Ask them their birthday. Based on their birthday give them their horoscope."
          }
        ],
        "functions": [
          {
            "type": "function",
            "function": {
              "name": "check_Greetings_progress",
              "description": "Ensure that all checklist have been covered",
              "parameters": {
                "type": "object",
                "properties": {
                  "asked_travels": {
                    "type": "boolean",
                    "description": "Successfully asked the user how their travels were?"
                  },
                  "unique_energy": {
                    "type": "boolean",
                    "description": "Did the model successfully tell the user about their unique energy?"
                  },
                  "ask_birthday": {
                    "type": "boolean",
                    "description": "Did the model successfully get their birthday?"
                  },
                  "gave_horoscope": {
                    "type": "boolean",
                    "description": "Did the model successfully give the user their horoscope?"
                  }
                },
                "required": [
                  "asked_travels",
                  "unique_energy",
                  "ask_birthday",
                  "gave_horoscope"
                ]
              },
              "transition_callback": "general_transition_callback"
            }
          }
        ],
        "role_messages": [
          {
            "role": "system",
            "content": "You are a mystic healer, set deep in the mountains of India. Be extremely over the top in your language."
          }
        ],
        "post_actions": [
          {
            "type": "end_conversation"
          }
        ]
      },
      "end": {
        "task_messages": [
          {
            "role": "system",
            "content": "The session is now complete. Say goodbye in a friendly and encouraging way."
          }
        ],
        "post_actions": [
          {
            "type": "end_conversation"
          }
        ]
      }
    }
  }
}
